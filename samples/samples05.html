

<!DOCTYPE html>
<html lang='ko'>
<meta charset="utf-8">
<head>
    <title>sample04</title>
    <script src='../js/JChart.js'></script>
    <script src='../js/randomGenerator.js'></script>
</head>
<body>

    <div id='container' style="width:60%;">
        <canvas id='myChart1'>
            Canvas Not supported.
        </canvas>
    </div>
    <button type='button' id='chartUpdate'>update</button>
</body>

<script>

let config = 
{
    type:'line',
    data:{
        labels: [
        ],
        datasets: [{
            data: [
                -50,1.5,-30
            ]
            }]
    },
    options:{
        responsive: true,
        layout: {
            padding: {
                top: 40.5,
				right: 40,
				bottom: 60.5,
				left: 65.5
            }
        },
        scales: {
            xAxes: [{
                display: true,
                scaleLabel: {
                    labelString: 'xLable문자열'
                }
            }],
            yAxes: [{
                display: true,
                scaleLabel: {
                    labelString: 'yLable문자열'
                }
            }]
        } 
    }
};

    var canvas1 = document.getElementById('myChart1');
    var ctx1 = canvas1.getContext('2d');

    let myChart1 = new JChart(ctx1, config);

    var dummy = [];
    var dummyLable = [];
    let count = 0;
    document.getElementById('chartUpdate').addEventListener('click', function(){
        if(dummy.length > 4){
            dummy.shift();
            dummyLable.shift();
        }

        dummy.push(randomScalingFactor());
        dummyLable.push(count++);

        console.warn('dummy : ' + dummy);
        config.data.labels = dummyLable;
        config.data.datasets[0].data = dummy;
        
        myChart1.update();
    },false);

    
    Samples.utils.srand(Date.now());
    var randomScalingFactor = function() {
        return Math.round(Samples.utils.rand(-100, 100));
    };

  
    
</script>
</html>

